<!DOCTYPE HTML>
<html manifest="" lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Heroku</title>
    <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/forcetk.js"></script>
    <script type="text/javascript" src="js/salesforce.js"></script>    
    <script type="text/javascript" src="phonegap.js"></script>
    <script type="text/javascript">
        function callSFDC() {
            var sf = new salesforce('mobile_app','sandbox');
            console.log(sf);
            sf.client.apexrest( '/kio/v1.0/getNews', function(response){
                    console.log('Success');
                    console.log(JSON.parse(response));
                    $('#responseSFDC').append('<p>Success</p>');

                }, function(response){
                    // error
                    console.log('load news error: ');
                    console.log(response);
                    $('#responseSFDC').append('<p>Error</p>');
                    $('#responseSFDC').append('<p>'+response+'</p>');

                }, 'GET', null, null);
        }
    </script>
</head>
<body>
    <p>
        Call SFDC to refresh the session token <br/>
        <button onclick="callSFDC()">Click me</button>
    </p>
    <p id="responseSFDC"></p>
</body>
</html>
